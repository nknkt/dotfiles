{"_id":"stack-trace","_rev":"48-5fda3dad4b018347dfc87bf93da3ec86","name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","dist-tags":{"latest":"1.0.0-pre1"},"versions":{"0.0.1":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.1","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{},"_npmJsonOpts":{"file":"/Users/felix/.npm/stack-trace/0.0.1/package/package.json","wscript":false,"contributors":false,"serverjs":false},"_id":"stack-trace@0.0.1","_engineSupported":true,"_npmVersion":"1.0.14","_nodeVersion":"v0.4.9-pre","_defaultsLoaded":true,"dist":{"shasum":"6b4c583666e4996a3616008b67ef9f5247101271","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.1.tgz"},"scripts":{},"directories":{}},"0.0.2":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.2","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3"},"_npmJsonOpts":{"file":"/Users/felix/.npm/stack-trace/0.0.2/package/package.json","wscript":false,"contributors":false,"serverjs":false},"_id":"stack-trace@0.0.2","_engineSupported":true,"_npmVersion":"1.0.14","_nodeVersion":"v0.4.10-pre","_defaultsLoaded":true,"dist":{"shasum":"17df29a3e16f2b1f424b71d4a1bdcf5a18aed2e5","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.2.tgz"},"scripts":{},"directories":{}},"0.0.3":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.3","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3"},"_npmJsonOpts":{"file":"/Users/felix/.npm/stack-trace/0.0.3/package/package.json","wscript":false,"contributors":false,"serverjs":false},"_id":"stack-trace@0.0.3","_engineSupported":true,"_npmVersion":"1.0.14","_nodeVersion":"v0.4.10-pre","_defaultsLoaded":true,"dist":{"shasum":"b10dc24b9e86a242cc69fbabf0f60d6284b20e12","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.3.tgz"},"scripts":{},"directories":{}},"0.0.4":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.4","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3"},"_npmJsonOpts":{"file":"/Users/felix/.npm/stack-trace/0.0.4/package/package.json","wscript":false,"contributors":false,"serverjs":false},"_id":"stack-trace@0.0.4","_engineSupported":true,"_npmVersion":"1.0.15","_nodeVersion":"v0.4.10-pre","_defaultsLoaded":true,"dist":{"shasum":"f278a4dd79608f5ceb80f4fd7064842934a40f4a","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.4.tgz"},"scripts":{},"directories":{}},"0.0.5":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.5","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3","long-stack-traces":"0.1.2"},"_npmJsonOpts":{"file":"/Users/felix/.npm/stack-trace/0.0.5/package/package.json","wscript":false,"contributors":false,"serverjs":false},"_id":"stack-trace@0.0.5","_engineSupported":true,"_npmVersion":"1.0.18","_nodeVersion":"v0.4.10-pre","_defaultsLoaded":true,"dist":{"shasum":"996a48767d9fd68834012dec500abaefcd49ac3c","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.5.tgz"},"scripts":{},"directories":{}},"0.0.6":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.6","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3","long-stack-traces":"0.1.2"},"_npmJsonOpts":{"file":"/Users/felix/.npm/stack-trace/0.0.6/package/package.json","wscript":false,"contributors":false,"serverjs":false},"_id":"stack-trace@0.0.6","_engineSupported":true,"_npmVersion":"1.0.22","_nodeVersion":"v0.4.10-pre","_defaultsLoaded":true,"dist":{"shasum":"1e719bd6a2629ff09c189e17a9ef902a94fc5db0","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.6.tgz"},"scripts":{},"maintainers":[{"name":"felixge","email":"felix@debuggable.com"}],"directories":{}},"0.0.7":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.7","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3","long-stack-traces":"0.1.2"},"bugs":{"url":"https://github.com/felixge/node-stack-trace/issues"},"_id":"stack-trace@0.0.7","dist":{"shasum":"c72e089744fc3659f508cdce3621af5634ec0fff","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.7.tgz"},"_from":".","_npmVersion":"1.2.25","_npmUser":{"name":"tim-smart","email":"tim@fostle.com"},"maintainers":[{"name":"felixge","email":"felix@debuggable.com"},{"name":"tim-smart","email":"tim@fostle.com"}],"directories":{}},"0.0.8":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.8","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3","long-stack-traces":"0.1.2"},"bugs":{"url":"https://github.com/felixge/node-stack-trace/issues"},"_id":"stack-trace@0.0.8","dist":{"shasum":"8a9c30543ed9697f77739c67b053d8b030d86f3e","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.8.tgz"},"_from":".","_npmVersion":"1.3.24","_npmUser":{"name":"sebastianhoitz","email":"hoitz@komola.de"},"maintainers":[{"name":"sebastianhoitz","email":"hoitz@komola.de"}],"directories":{}},"0.0.9":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.9","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"dependencies":{},"devDependencies":{"far":"0.0.3","long-stack-traces":"0.1.2"},"bugs":{"url":"https://github.com/felixge/node-stack-trace/issues"},"_id":"stack-trace@0.0.9","dist":{"shasum":"a8f6eaeca90674c333e7c43953f275b451510695","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.9.tgz"},"_from":".","_npmVersion":"1.3.24","_npmUser":{"name":"sebastianhoitz","email":"hoitz@komola.de"},"maintainers":[{"name":"felixge","email":"felix@debuggable.com"},{"name":"tim-smart","email":"tim@fostle.com"},{"name":"sebastianhoitz","email":"hoitz@komola.de"}],"directories":{}},"0.0.10":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"0.0.10","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"main":"./lib/stack-trace","engines":{"node":"*"},"license":"MIT","dependencies":{},"devDependencies":{"far":"0.0.3","long-stack-traces":"0.1.2"},"gitHead":"9a11c5294e37e8c1e8ca0f402711eb100bc7be5e","bugs":{"url":"https://github.com/felixge/node-stack-trace/issues"},"_id":"stack-trace@0.0.10","scripts":{},"_shasum":"547c70b347e8d32b4e108ea1a2a159e5fdde19c0","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.10.0","_npmUser":{"name":"felixge","email":"felix@debuggable.com"},"maintainers":[{"name":"felixge","email":"felix@debuggable.com"},{"name":"gajus","email":"gajus@gajus.com"},{"name":"sebastianhoitz","email":"hoitz@komola.de"},{"name":"tim-smart","email":"tim@fostle.com"}],"dist":{"shasum":"547c70b347e8d32b4e108ea1a2a159e5fdde19c0","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.10.tgz"},"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/stack-trace-0.0.10.tgz_1494918433070_0.05463112820871174"},"directories":{}},"1.0.0-pre1":{"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"name":"stack-trace","description":"Get v8 stack traces as an array of CallSite objects.","version":"1.0.0-pre1","homepage":"https://github.com/felixge/node-stack-trace","repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"type":"module","main":"index.js","exports":{".":"./index.js","./package.json":"./package.json"},"jest":{"testEnvironment":"node","transform":{"^.+\\.js$":"babel-jest"}},"scripts":{"test":"jest","release":"git push && git push --tags && npm publish"},"engines":{"node":"16"},"license":"MIT","devDependencies":{"@babel/preset-env":"^7.14.1","babel-jest":"^26.6.3","jest":"^26.6.3","long-stack-traces":"0.1.2"},"gitHead":"f71287470390c51b0eba771e25aa429c6aaf5861","bugs":{"url":"https://github.com/felixge/node-stack-trace/issues"},"_id":"stack-trace@1.0.0-pre1","_nodeVersion":"16.0.0","_npmVersion":"7.10.0","dist":{"integrity":"sha512-biM7OwS3J2hcou7tfozHcsqhJZxX5pqMMqe/Zr6stw9uVn8Gh7ct3eFR9Gb66BBi/ToSeOgk4FsjKgZVrDIyew==","shasum":"3eb3c7a86ceaaa67f8b1cf2eaab4a58ad68348d0","tarball":"https://registry.npmjs.org/stack-trace/-/stack-trace-1.0.0-pre1.tgz","fileCount":9,"unpackedSize":18641,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJglSOkCRA9TVsSAnZWagAAFakP/3DWNqU7HmKP3CCD35cN\nEtCK9uC16tvbOOBTnQjL0UQC1QKqNhoJ6wRWLX2GvqiQWmmZhGi873ADhDIa\n4NZlG3y6FsSBFDEjQSzMxrjhAAJg1l9iOcVrXw7XXIxV5WN3q69zU+yIQ3TC\n+4cS5x56st55imYubvkc4ibbUhK97Uny/9SSJshq9NFlyPXInHHl8kmFMT2l\nans2mBpAP+i/1kG9o/1QU1ZHRU2sEMfmQOAGNonhdJIf3YCovYMu8kPXX70P\nesio0Ep3NE3KP2UWTQPF+zgKMPGAmD8cXOC3XHDKLDVFIfLiTc6JxYd14z6l\n4sICNk8KCEQw2Nw6Uzsoiuo0GY8WSRj1nQHH401Vox+zwuppqydjJhIi7Cch\n5I+8YdVIE+fVoIkVow8xuLDr0RK8CyI6A7eVL1NZuZ8sympK2vrWyILDQFVz\npcR3Zp5+tn+LbfTHPniPFiQGpDHrvfQJaOavEXwJQhCxf77p39W7hb9v2DaQ\nlQJJSnPiN1ehDb7QyJzRFM8bp3dW5hewc/yew5PMLd6dHw/T+NOvEmZlHol6\nTh1vCwX/dP8TIVXfuoIHyOHKAeeK0ce18iDsSn64pV5n7z67+wDk5pJztjFG\n9/xN3nhiW3kcSJiIYZy7IkcOJDPTcfd6+NEzwlGMmrc1iPkbbrANKlry+dmY\nRDCE\r\n=fVjU\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"niemyjski","email":"bniemyjski@gmail.com"},"directories":{},"maintainers":[{"name":"felixge","email":"felix@debuggable.com"},{"name":"sebastianhoitz","email":"hoitz@komola.de"},{"name":"tim-smart","email":"tim@fostle.com"},{"name":"gajus","email":"gajus@gajus.com"},{"name":"niemyjski","email":"bniemyjski@gmail.com"},{"name":"kjg","email":"kevin@glowacz.info"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stack-trace_1.0.0-pre1_1620386723889_0.1812475461328933"},"_hasShrinkwrap":false}},"maintainers":[{"name":"felixge","email":"felix@debuggable.com"},{"name":"sebastianhoitz","email":"hoitz@komola.de"},{"name":"tim-smart","email":"tim@fostle.com"},{"name":"gajus","email":"gajus@gajus.com"},{"name":"niemyjski","email":"bniemyjski@gmail.com"},{"name":"kjg","email":"kevin@glowacz.info"}],"time":{"modified":"2021-05-07T11:25:27.188Z","created":"2011-06-25T16:09:15.530Z","0.0.1":"2011-06-25T16:09:16.216Z","0.0.2":"2011-07-13T08:16:56.532Z","0.0.3":"2011-07-13T21:31:27.910Z","0.0.4":"2011-07-17T08:38:37.454Z","0.0.5":"2011-07-20T16:10:40.557Z","0.0.6":"2011-08-01T16:58:53.033Z","0.0.7":"2013-07-17T20:55:05.848Z","0.0.8":"2014-02-01T15:11:47.010Z","0.0.9":"2014-02-20T10:40:57.111Z","0.0.10":"2017-05-16T07:07:13.840Z","1.0.0-pre1":"2021-05-07T11:25:24.006Z"},"author":{"name":"Felix Geisendörfer","email":"felix@debuggable.com","url":"http://debuggable.com/"},"repository":{"type":"git","url":"git://github.com/felixge/node-stack-trace.git"},"readme":"# stack-trace\r\n\r\n[![Build Status](https://travis-ci.org/felixge/node-stack-trace.svg?branch=master)](https://travis-ci.org/felixge/node-stack-trace)\r\n\r\nGet v8 stack traces as an array of CallSite objects.\r\n\r\n## Install\r\n\r\n``` bash\r\nnpm install stack-trace\r\n```\r\n\r\n## Usage\r\n\r\nThe stack-trace module makes it easy for you to capture the current stack:\r\n\r\n```javascript\r\nimport { get } from 'stack-trace';\r\nconst trace = get();\r\n\r\nexpect(trace[0].getFileName()).toBe(__filename);\r\n```\r\n\r\nHowever, sometimes you have already popped the stack you are interested in,\r\nand all you have left is an `Error` object. This module can help:\r\n\r\n```javascript\r\nimport { parse } from 'stack-trace';\r\nconst err = new Error('something went wrong');\r\nconst trace = parse(err);\r\n\r\nexpect(trace[0].getFileName()).toBe(__filename);\r\n```\r\n\r\nPlease note that parsing the `Error#stack` property is not perfect, only\r\ncertain properties can be retrieved with it as noted in the API docs below.\r\n\r\n## Long stack traces\r\n\r\nstack-trace works great with [long-stack-traces][], when parsing an `err.stack`\r\nthat has crossed the event loop boundary, a `CallSite` object returning\r\n`'----------------------------------------'` for `getFileName()` is created.\r\nAll other methods of the event loop boundary call site return `null`.\r\n\r\n[long-stack-traces]: https://github.com/tlrobinson/long-stack-traces\r\n\r\n## API\r\n\r\n### stackTrace.get([belowFn])\r\n\r\nReturns an array of `CallSite` objects, where element `0` is the current call\r\nsite.\r\n\r\nWhen passing a function on the current stack as the `belowFn` parameter, the\r\nreturned array will only include `CallSite` objects below this function.\r\n\r\n### stackTrace.parse(err)\r\n\r\nParses the `err.stack` property of an `Error` object into an array compatible\r\nwith those returned by `stackTrace.get()`. However, only the following methods\r\nare implemented on the returned `CallSite` objects.\r\n\r\n* getTypeName\r\n* getFunctionName\r\n* getMethodName\r\n* getFileName\r\n* getLineNumber\r\n* getColumnNumber\r\n* isNative\r\n\r\nNote: Except `getFunctionName()`, all of the above methods return exactly the\r\nsame values as you would get from `stackTrace.get()`. `getFunctionName()`\r\nis sometimes a little different, but still useful.\r\n\r\n### CallSite\r\n\r\nThe official v8 CallSite object API can be found [here][https://github.com/v8/v8/wiki/Stack-Trace-API#customizing-stack-traces]. A quick\r\nexcerpt:\r\n\r\n> A CallSite object defines the following methods:\r\n>\r\n> * **getThis**: returns the value of this\r\n> * **getTypeName**: returns the type of this as a string. This is the name of the function stored in the constructor field of this, if available, otherwise the object's [[Class]] internal property.\r\n> * **getFunction**: returns the current function\r\n> * **getFunctionName**: returns the name of the current function, typically its name property. If a name property is not available an attempt will be made to try to infer a name from the function's context.\r\n> * **getMethodName**: returns the name of the property of this or one of its prototypes that holds the current function\r\n> * **getFileName**: if this function was defined in a script returns the name of the script\r\n> * **getLineNumber**: if this function was defined in a script returns the current line number\r\n> * **getColumnNumber**: if this function was defined in a script returns the current column number\r\n> * **getEvalOrigin**: if this function was created using a call to eval returns a CallSite object representing the location where eval was called\r\n> * **isToplevel**: is this a toplevel invocation, that is, is this the global object?\r\n> * **isEval**: does this call take place in code defined by a call to eval?\r\n> * **isNative**: is this call in native V8 code?\r\n> * **isConstructor**: is this a constructor call?\r\n\r\n[v8stackapi]: https://v8.dev/docs/stack-trace-api\r\n\r\n## License\r\n\r\nstack-trace is licensed under the MIT license.\r\n","readmeFilename":"Readme.md","homepage":"https://github.com/felixge/node-stack-trace","bugs":{"url":"https://github.com/felixge/node-stack-trace/issues"},"users":{"davepoon":true,"ralucas":true,"eush77":true,"russt":true,"monolithed":true,"bpatel":true,"fedor":true,"bsnote":true,"xgheaven":true,"zombinary":true,"yokubee":true,"nigel0913":true,"kirilv":true,"linuxenko":true,"nmccready":true,"masonwan":true,"jondotsoy":true,"shanewholloway":true,"meeh":true,"xinwangwang":true,"isayme":true},"license":"MIT","_etag":"W/\"0864290a4bbd96366209710aaf467f7b\"","_lastModified":"Fri, 07 May 2021 11:25:28 GMT","_cached":true}